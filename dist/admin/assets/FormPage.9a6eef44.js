import{Q as q}from"./QSelect.9bc3ff68.js";import{h as d,c as z,aq as M,ar as N,r as D,b as m,Q as T,d as A,i as K,n as L,as as x,D as V,E,o as O,I as J,J as W,K as u,W as G,L as o,aj as n,U as s,_ as S,N as H}from"./index.440f000c.js";import{u as X,a as Y}from"./use-dark.d364a23f.js";import{o as Z,u as ee}from"./option-sizes.43233b40.js";import{a as ae,i as te,Q as le,j as oe}from"./QForm.f376eef8.js";import{h as Q,Q as I}from"./format.2ca1748e.js";import{Q as se}from"./QInput.5b8e5873.js";import{Q as ie,a as ne}from"./QPage.1d65c121.js";import{c as l}from"./chords.6119df47.js";import{s as h}from"./songs.a2546b94.js";import"./artists.4a5d0365.js";const de=d("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24"},[d("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),d("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]);var w=z({name:"QRadio",props:{...X,...M,...ae,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(e,{slots:f,emit:t}){const{proxy:c}=L(),v=Y(e,c.$q),_=N(e,Z),i=D(null),{refocusTargetEl:y,refocusTarget:C}=ee(e,i),r=m(()=>x(e.modelValue)===x(e.val)),B=m(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(e.disable===!0?" disabled":"")+(v.value===!0?" q-radio--dark":"")+(e.dense===!0?" q-radio--dense":"")+(e.leftLabel===!0?" reverse":"")),P=m(()=>{const a=e.color!==void 0&&(e.keepColor===!0||r.value===!0)?` text-${e.color}`:"";return`q-radio__inner relative-position q-radio__inner--${r.value===!0?"truthy":"falsy"}${a}`}),k=m(()=>(r.value===!0?e.checkedIcon:e.uncheckedIcon)||null),j=m(()=>e.disable===!0?-1:e.tabindex||0),U=m(()=>{const a={type:"radio"};return e.name!==void 0&&Object.assign(a,{".checked":r.value===!0,"^checked":r.value===!0?"checked":void 0,name:e.name,value:e.val}),a}),F=te(U);function b(a){a!==void 0&&(V(a),C(a)),e.disable!==!0&&r.value!==!0&&t("update:modelValue",e.val,a)}function R(a){(a.keyCode===13||a.keyCode===32)&&V(a)}function $(a){(a.keyCode===13||a.keyCode===32)&&b(a)}return Object.assign(c,{set:b}),()=>{const a=k.value!==null?[d("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[d(T,{class:"q-radio__icon",name:k.value})])]:[de];e.disable!==!0&&F(a,"unshift"," q-radio__native q-ma-none q-pa-none");const g=[d("div",{class:P.value,style:_.value,"aria-hidden":"true"},a)];y.value!==null&&g.push(y.value);const p=e.label!==void 0?A(f.default,[e.label]):K(f.default);return p!==void 0&&g.push(d("div",{class:"q-radio__label q-anchor--skip"},p)),d("div",{ref:i,class:B.value,tabindex:j.value,role:"radio","aria-label":e.label,"aria-checked":r.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:b,onKeydown:R,onKeyup:$},g)}}});const re={class:"row reverse-wrap q-col-gutter-sm"},ue={class:"col-12 col-sm-6 col-lg-4"},ce={class:"col-12 col-sm-6 col-lg-4"},me={class:"col-12 col-sm-6 col-lg-4"},fe={class:"col-12 col-sm-6 col-lg-4"},ve={class:"q-mt-md"},_e={class:"q-mt-md",style:{position:"sticky",bottom:"0"}},be={class:"row justify-end q-mt-md q-col-gutter-sm"},ge={class:"col-auto"},he={class:"col-auto"},Ce={__name:"FormPage",setup(e){return D(null),E(async()=>{const{q:f,route:t,router:c}=G;t.params.id!="add"&&l.getDetail(),await h.getDetail(null,t.params.songId),l.detail.song=h.detail._id}),O(()=>{l.detail={_id:null,data:"",difficulty:"Intermediate",song:null,isDraft:!0}}),(f,t)=>(J(),W(ie,{padding:""},{default:u(()=>[o(oe,{onSubmit:s(l).onSubmit},{default:u(()=>{var c,v,_;return[o(ne,{flat:"",bordered:"",class:"q-pa-md"},{default:u(()=>[n("div",re,[n("div",ue,[o(q,{dense:"",outlined:"",label:"Difficulty",modelValue:s(l).detail.difficulty,"onUpdate:modelValue":t[0]||(t[0]=i=>s(l).detail.difficulty=i),options:["Beginner","Intermediate","Advanced"]},null,8,["modelValue"])]),n("div",ce,[o(q,{dense:"",outlined:"","map-options":"","emit-value":"",disable:"",label:"Song",modelValue:s(l).detail.song,"onUpdate:modelValue":t[1]||(t[1]=i=>s(l).detail.song=i),"option-value":"_id","option-label":"title",options:[s(h).detail]},null,8,["modelValue","options"])]),n("div",me,[o(Q,{dense:"",class:"text-grey-8",style:{height:"40px",border:"1px solid #afafaf","border-radius":"4px"},tag:"label"},{default:u(()=>[o(I,null,{default:u(()=>[o(w,{color:"orange",modelValue:s(l).detail.isDraft,"onUpdate:modelValue":t[2]||(t[2]=i=>s(l).detail.isDraft=i),val:!0,label:"Draft","checked-icon":"history_edu","unchecked-icon":"history_edu"},null,8,["modelValue"])]),_:1})]),_:1})]),n("div",fe,[o(Q,{dense:"",class:"text-grey-8",tag:"label",style:{height:"40px",border:"1px solid #afafaf","border-radius":"4px"}},{default:u(()=>[o(I,null,{default:u(()=>[o(w,{modelValue:s(l).detail.isDraft,"onUpdate:modelValue":t[3]||(t[3]=i=>s(l).detail.isDraft=i),val:!1,color:"green",label:"Publish","checked-icon":"library_add_check","unchecked-icon":"library_add_check"},null,8,["modelValue"])]),_:1})]),_:1})])]),n("div",ve,[o(se,{autogrow:"",outlined:"",label:"Chord data",class:"chord-data",modelValue:s(l).detail.data,"onUpdate:modelValue":t[4]||(t[4]=i=>s(l).detail.data=i)},null,8,["modelValue"])])]),_:1}),n("div",_e,[o(le),n("div",be,[n("div",ge,[o(S,{outline:"",to:{name:(_=(v=(c=f.$route.meta)==null?void 0:c.ancestors)==null?void 0:v[0])==null?void 0:_.name},style:{"min-width":"150px"},label:"cancel",color:"primary"},null,8,["to"])]),n("div",he,[o(S,{type:"submit",style:{"min-width":"150px"},label:"Submit",color:"primary"})])])])]}),_:1},8,["onSubmit"]),n("pre",null,"      "+H(s(l).detail.socials)+`
    `,1)]),_:1}))}};export{Ce as default};
