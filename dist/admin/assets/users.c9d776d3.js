import{ag as c,ak as r,W as s}from"./index.1fb80485.js";const o="user",i=c({list:[],detail:{_id:null,name:"",email:"",password:"",confirm_password:""},pagination:{rowsPerPage:15,rowsNumber:0},getList:m,getDetail:u,onSubmit:d,columns:[{label:"Name",name:"name",field:a=>a.name,align:"left"},{label:"Email",name:"email",field:a=>a.email,align:"left"},{label:"Role",name:"role",field:a=>a.role,align:"left"},{name:"actions",align:"right"}]});async function m(a){try{let e={limit:i.pagination.rowsPerPage,page:i.pagination.page};a!=null&&a.pagination&&(e.limit=a.pagination.rowsPerPage,e.page=a.pagination.page,a.pagination.search&&(e.search=a.pagination.search));const n=await r.get(o,{params:e});i.list=n.data.data,i.pagination.rowsNumber=n.data.total}catch(e){console.error(e.message)}}async function d(){try{const{q:a,route:e,router:n}=s,{detail:t}=i,l=t._id?`${o}/${t._id}`:o,g=t._id?"put":"post",f=await r[g](l,t);n.push({name:"users"})}catch(a){console.error(a.message)}}async function u(){const{q:a,route:e,router:n}=s;try{a.loading.show();const t=await r.get(`${o}/${e.params.id}`);i.detail=t.data,a.loading.hide()}catch{a.loading.hide()}}export{i as u};
